(()=>{var e={386:()=>{!function(e){"use strict";const t=t=>e.querySelector(t);e.addEventListener("change",function(n){if(!n.target.matches('input[id^="edd_sl_sdk_allow_data"]'))return;const s=n.target,d=s.getAttribute("data-slug"),a=s.id.match(/\[(\d+)\]/)?.[1];if(!a)return;const i=s.getAttribute("data-timestamp"),c=s.getAttribute("data-token"),o=s.getAttribute("data-nonce");if(!i||!c||!o)return void console.warn("Missing security attributes on data tracking checkbox");e.querySelectorAll(".edd-sl-sdk__data + .notice").forEach(e=>e.remove()),s.setAttribute("disabled","true");const r={action:"edd_sl_sdk_update_tracking_"+d,token:c,timestamp:i,nonce:o,item_id:a,allow_tracking:s.checked?"1":"0"};fetch(ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(r)}).then(e=>e.json()).then(e=>{e.success?e.data.message&&t(".edd-sl-sdk__data").insertAdjacentHTML("afterend",`<div class="notice inline-notice notice-success">${e.data.message}</div>`):(t(".edd-sl-sdk__data").insertAdjacentHTML("afterend",`<div class="notice inline-notice notice-warning">${e.data.message}</div>`),s.checked=!s.checked),s.removeAttribute("disabled")}).catch(e=>{console.error("Error updating tracking preference:",e),t(".edd-sl-sdk__data").insertAdjacentHTML("afterend",`<div class="notice inline-notice notice-error"><p>${edd_sdk_notice.error}</p></div>`),s.checked=!s.checked,s.removeAttribute("disabled")})})}(document)},527:()=>{!function(e){"use strict";const t=t=>e.querySelector(t),n=t=>e.querySelectorAll(t);function s(e,t,n,s){e.addEventListener(t,e=>{e.target.closest(n)&&s(e)})}s(e,"click",".edd-sl-sdk__action",function(e){e.preventDefault();const s=e.target,d=s.getAttribute("data-action");let a="";const i=s.textContent;if(s.hasAttribute("disabled"))return;switch(d){case"activate":a="edd_sl_sdk_activate",s.textContent=edd_sdk_notice.activating;break;case"deactivate":a="edd_sl_sdk_deactivate",s.textContent=edd_sdk_notice.deactivating;break;default:return}n(".edd-sl-sdk__license-control + .notice, .edd-sl-sdk__license-control + p").forEach(e=>e.remove()),s.classList.remove("button-primary"),s.setAttribute("disabled","true"),s.classList.add("updating-message");const c={token:s.getAttribute("data-token"),timestamp:s.getAttribute("data-timestamp"),nonce:s.getAttribute("data-nonce"),license:t(".edd-sl-sdk__license--input").value,slug:t(".edd-sl-sdk__license--input").getAttribute("data-slug")};c.action=a+"_"+c.slug,fetch(ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(c)}).then(e=>e.json()).then(e=>{if(e.success){if(t(".edd-sl-sdk-licensing__actions").outerHTML=e.data.actions,e.data.message&&t(".edd-sl-sdk__license-control").insertAdjacentHTML("afterend",`<div class="notice inline-notice notice-success">${e.data.message}</div>`),c.license.length&&"deactivate"===d)t(".edd-sl-sdk__license--input").removeAttribute("readonly"),t(".edd-sl-sdk__license-status-message").remove();else if("activate"===d&&(t(".edd-sl-sdk__license--input").setAttribute("readonly","true"),e.data.url&&e.data.url.length))return void setTimeout(()=>{window.location.href=e.data.url},1500)}else s.textContent=i,t(".edd-sl-sdk__license-control").insertAdjacentHTML("afterend",`<div class="notice inline-notice notice-warning edd-sl-sdk__notice">${e.data.message}</div>`);s.removeAttribute("disabled"),s.classList.remove("updating-message")})}),s(e,"click",".edd-sl-sdk-license__delete",function(e){e.preventDefault();const s=e.target,d=t(".edd-sl-sdk__license--input"),a={action:"edd_sl_sdk_delete_"+d.getAttribute("data-slug"),token:s.getAttribute("data-token"),timestamp:s.getAttribute("data-timestamp"),nonce:s.getAttribute("data-nonce"),license:d.value};a.license&&(n(".edd-sl-sdk__license-control + .notice, .edd-sl-sdk__license-control + p").forEach(e=>e.remove()),s.setAttribute("disabled","true"),s.classList.add("updating-message"),fetch(ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(a)}).then(e=>e.json()).then(e=>{e.success?(t(".edd-sl-sdk__license-control").insertAdjacentHTML("afterend",`<div class="notice inline-notice notice-success">${e.data.message}</div>`),s.style.display="none",t(".edd-sl-sdk__license--input").value=""):t(".edd-sl-sdk__license-control").insertAdjacentHTML("afterend",`<div class="notice inline-notice notice-warning">${e.data.message}</div>`),s.removeAttribute("disabled"),s.classList.remove("updating-message")}))})}(document)},870:()=>{const e=document.querySelector(".edd-sdk-notice--overlay");let t=null;function n(e){document.dispatchEvent(new CustomEvent("edd_sdk_notice_enter",{detail:{notice:e}})),e.style.display="flex",e.style.opacity="0",requestAnimationFrame(()=>{e.style.transition="opacity 0.3s",e.style.opacity="1"})}e&&(t=document.createElement("div"),t.classList.add("edd-sdk__notice__overlay"),e.parentNode.insertBefore(t,e),t.appendChild(e),document.addEventListener("click",s=>{if(s.target.classList.contains("edd-sdk__notice__trigger"))if(s.target.classList.contains("edd-sdk__notice__trigger--ajax")){var d,a,i,c;s.target.disabled=!0,s.preventDefault();const o={template:null!==(d=s.target.dataset.id)&&void 0!==d?d:"license-control",product_id:null!==(a=s.target.dataset.product)&&void 0!==a?a:"",slug:null!==(i=s.target.dataset.slug)&&void 0!==i?i:"",name:null!==(c=s.target.dataset.name)&&void 0!==c?c:""};o.action="edd_sdk_get_notice_"+o.slug,fetch(`${ajaxurl}?${new URLSearchParams(o)}`).then(e=>e.json()).then(d=>{d.data&&(e.innerHTML=d.data,t.classList.add("edd-sdk__notice--ajax")),n(t),s.target.disabled=!1})}else n(t)})),document.addEventListener("click",e=>{if(!e.target.classList.contains("edd-sdk__notice--dismiss"))return;const t=e.target.closest(".edd-sdk__notice__overlay");t&&(e.target.href||e.preventDefault(),function(e){if("none"===e.style.display)return;e.style.transition="opacity 0.3s",e.style.opacity="0",e.addEventListener("transitionend",()=>{e.style.display="none"},{once:!0});const t=document.querySelector(".edd-sdk-notice--overlay");t&&(t.innerHTML=""),document.dispatchEvent(new CustomEvent("edd_sdk_notice_dismiss",{detail:{notice:e}}))}(t))})}},t={};function n(s){var d=t[s];if(void 0!==d)return d.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(870),n(527),n(386)})()})();